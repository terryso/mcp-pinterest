# 用户故事: US-Future-001 - 可配置的下载目录

**作为** 服务器管理员，
**我想要** 通过设置一个环境变量 (`MCP_PINTEREST_DOWNLOAD_DIR`) 来指定 Pinterest MCP 服务器下载所有图片的根目录，
**以便** 统一管理服务器的下载文件位置，并确保文件保存在预期的、安全的存储区域。

## 描述

当前服务器将所有下载的图片硬编码保存在 `../downloads` 目录下。此功能允许管理员通过设置 `MCP_PINTEREST_DOWNLOAD_DIR` 环境变量来覆盖此默认行为。如果设置了此环境变量，所有由该服务器实例处理的下载都应定向到指定的目录。如果未设置，则维持默认行为。

## 实现方式

*   通过服务器环境变量 `MCP_PINTEREST_DOWNLOAD_DIR` 实现。

## 验收标准

1.  服务器启动时，检查是否存在 `MCP_PINTEREST_DOWNLOAD_DIR` 环境变量。
2.  如果环境变量已设置：
    *   验证该路径是否存在。如果不存在，应尝试创建该目录（包括所有必要的父目录）。
    *   验证服务器进程是否对该路径具有写入权限。
    *   如果路径验证失败（无法创建或无写入权限），服务器启动时应记录严重错误并**退出**（或根据策略选择降级到默认路径并记录警告）。
    *   所有后续通过 `pinterest_search_and_download` 或其他下载工具执行的下载，都必须将文件保存在此环境变量指定的目录下。
3.  如果环境变量未设置：
    *   服务器应继续使用默认的下载路径（例如，相对于脚本位置的 `../downloads`）。
    *   下载功能应正常工作。
4.  此环境变量及其行为必须在服务器文档中清晰说明。
5.  客户端调用下载相关工具时，不能再通过任何参数指定下载路径。

## 优先级

高 